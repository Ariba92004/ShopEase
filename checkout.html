<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Checkout | ShopEase</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<header class="header">
    <h2>Checkout</h2>
</header>

<div class="checkout-wrapper">
    <div class="checkout-container">

        <h2 class="checkout-title">Checkout</h2>

        <div class="checkout-grid">

            <!-- LEFT: Customer Details Form -->
            <form class="checkout-form">
                <label>Full Name</label>
                <input type="text" placeholder="Enter your full name" required>

                <label>Email</label>
                <input type="email" placeholder="Enter your email" required>

                <label>Phone</label>
                <input type="text" placeholder="03xx-xxxxxxx" required>

                <label>Address</label>
                <input type="text" placeholder="Street, City, Area" required>

                <button type="button" class="place-order-btn" onclick="placeOrder()">Place Order</button>
            </form>

            <!-- RIGHT: Order Summary -->
            <div class="order-summary">
                <h3>Order Summary</h3>
                <div id="summaryItems"></div>
                <div class="summary-total" id="summaryTotal"></div>
            </div>

        </div>
    </div>
</div>

<script>
function placeOrder(){
    alert("Order Placed Successfully ðŸŽ‰");
    localStorage.removeItem("cart");
    window.location.href="index.html";
}

// Populate order summary from localStorage cart
let cart = JSON.parse(localStorage.getItem("cart")) || [];
let summaryDiv = document.getElementById("summaryItems");
let totalDiv = document.getElementById("summaryTotal");
let total = 0;

if(cart.length === 0){
    summaryDiv.innerHTML = "<p>Your cart is empty</p>";
    totalDiv.innerHTML = "";
} else {
    cart.forEach(item => {
        let price = parseInt(item.price.replace(/\D/g,''));
        total += price * (item.qty || 1);

        summaryDiv.innerHTML += `
            <div class="summary-item">
                <span>${item.name} x${item.qty || 1}</span>
                <span>Rs. ${price * (item.qty || 1)}</span>
            </div>
        `;
    });

    totalDiv.innerText = "Total: Rs. " + total;
}
</script>

</body>
</html>

